    // 1. Ambil data dari localStorage
    let tasks = JSON.parse(localStorage.getItem('awinet_tasks')) || [];
    let lastDate = localStorage.getItem('awinet_last_date');

    // 2. Fungsi Cek Hari Baru
    function checkNewDay() {
        const today = new Date().toLocaleDateString('en-CA'); // Format YYYY-MM-DD

        if (lastDate && lastDate !== today) {
            // FILTER: Hanya simpan tugas yang statusnya BUKAN 'done'
            const pendingTasks = tasks.filter(t => t.status !== 'done');
            
            // Hitung berapa tugas yang dihapus untuk notifikasi
            const deletedCount = tasks.length - pendingTasks.length;
            
            if (deletedCount > 0) {
                tasks = pendingTasks;
                saveAndRender(); // Simpan perubahan ke localStorage
                alert(`${deletedCount} tugas yang sudah Selesai (Done) telah dibersihkan untuk hari baru.`);
            }
        }
        
        // Update tanggal terakhir ke hari ini
        localStorage.setItem('awinet_last_date', today);
    }

    // 3. Jalankan pengecekan saat halaman dibuka
    checkNewDay();

    // --- Fungsi lainnya tetap sama ---

    function saveAndRender() {
        localStorage.setItem('awinet_tasks', JSON.stringify(tasks));
        renderTasks();
        updateProgress();
    }
